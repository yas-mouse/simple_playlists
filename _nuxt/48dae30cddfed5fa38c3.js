(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{353:function(t,l,e){"use strict";e.r(l);e(90),e(47),e(39),e(41);var r=e(321),n=e.n(r),o={components:{},data:function(){return{dialog:!1,editing:!1,textShowing:!1,valid:!0,id:"",title:"",titleRules:[function(t){return!!t||"Title is required"}],url:"",urlRules:[function(t){return!!t||"URL is required"}],imgUrl:""}},computed:{playlists:function(){return this.$store.state.playlists.playlists}},methods:{changeUrl:function(text){if(text&&(text.includes("https://music.apple.com/jp/playlist/")||text.includes("https://music.apple.com/jp/album/"))){var t=text.split("/");if(t.length>5&&t[5]){var l=decodeURI(t[5]);this.title=l}t.length>6&&t[6]&&(t[6].match(/^pl./)?this.imgUrl=this.getArtworkUrl(t[6]):this.imgUrl="")}},clickAdd:function(){this.dialog=!0,this.editing=!1},addPlaylist:function(){this.validate()&&(this.editing?this.$store.commit("playlists/edit",{id:this.id,title:this.title,url:this.url,imgUrl:this.imgUrl}):this.$store.commit("playlists/add",{id:n()(),title:this.title,url:this.url,imgUrl:this.imgUrl}),this.title="",this.url="",this.imgUrl="",this.dialog=!1)},removePlaylist:function(){this.editing&&window.confirm("Are you sure?")&&(this.$store.commit("playlists/remove",this.id),this.title="",this.url="",this.imgUrl="",this.dialog=!1)},clickCard:function(t){this.editing?(this.id=t.id,this.title=t.title,this.url=t.url,this.imgUrl=t.imgUrl,this.dialog=!0):window.location=t.url},validate:function(){return this.$refs.form.validate()},getArtworkUrl:function(t){return"https://tools.applemusic.com/ja-jp/artwork/".concat(t,".jpg")}}},c=e(67),d=e(104),h=e.n(d),m=e(182),v=e(317),f=e(314),w=e(348),_=e(313),x=e(352),U=e(349),y=e(111),k=e(82),C=e(61),V=e(122),S=e(350),R=e(310),j=e(351),component=Object(c.a)(o,(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("v-container",{attrs:{fluid:""}},[e("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(l){t.dialog=l},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Add playlist")]),t._v(" "),e("v-list-item",[e("v-list-item-content",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(l){t.valid=l},expression:"valid"}},[e("v-text-field",{attrs:{rules:t.urlRules,label:"Url",required:"",clearable:""},on:{input:t.changeUrl},model:{value:t.url,callback:function(l){t.url=l},expression:"url"}}),t._v(" "),e("v-text-field",{attrs:{rules:t.titleRules,label:"title",required:"",clearable:""},model:{value:t.title,callback:function(l){t.title=l},expression:"title"}}),t._v(" "),e("v-text-field",{attrs:{label:"image URL",clearable:""},model:{value:t.imgUrl,callback:function(l){t.imgUrl=l},expression:"imgUrl"}}),t._v(" "),e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"green lighten-1",text:""},on:{click:t.addPlaylist}},[t._v("Finish")]),t._v(" "),t.editing?e("v-btn",{attrs:{color:"red lighten-1",text:""},on:{click:t.removePlaylist}},[t._v("Remove")]):t._e()],1)],1)],1)],1)],1),t._v(" "),e("v-row",[e("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"primary"},on:{click:t.clickAdd}},[t._v("Add")]),t._v(" "),e("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"secondary",outlined:t.editing},on:{click:function(l){t.editing=!t.editing}}},[t._v(t._s(t.editing?"EDITING":"EDIT"))]),t._v(" "),e("v-btn",{staticClass:"ma-2",attrs:{rounded:"",color:"blue",outlined:t.textShowing},on:{click:function(l){t.textShowing=!t.textShowing}}},[t._v(t._s(t.textShowing?"SHOWING":"SHOW TEXT"))])],1),t._v(" "),e("v-row",{attrs:{dense:""}},t._l(t.playlists,(function(l){return e("v-col",{key:l.id,attrs:{cols:t.textShowing?12:3}},[e("v-card",{on:{click:function(e){return t.clickCard(l)}}},[e("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[t.textShowing?e("v-card-subtitle",{domProps:{textContent:t._s(l.title)}}):t._e(),t._v(" "),l.imgUrl?e("v-img",{attrs:{src:l.imgUrl,"max-width":t.textShowing?"20%":"100%"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[e("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)}):t._e(),t._v(" "),l.imgUrl?t._e():e("v-img",{attrs:{src:"/images/no_image.png","max-width":t.textShowing?"20%":"100%"}},[e("v-row",{staticClass:"lightbox white--text pa-2 fill-height",attrs:{align:"end"}},[e("div",{staticClass:"subheading pa-2"},[t._v("\n                "+t._s(l.title)+"\n              ")])])],1)],1)])],1)})),1)],1)}),[],!1,null,null,null);l.default=component.exports;h()(component,{VBtn:m.a,VCard:v.a,VCardSubtitle:f.a,VCardTitle:f.b,VCol:w.a,VContainer:_.a,VDialog:x.a,VForm:U.a,VImg:y.a,VListItem:k.a,VListItemContent:C.a,VProgressCircular:V.a,VRow:S.a,VSpacer:R.a,VTextField:j.a})}}]);